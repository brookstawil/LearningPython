

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>16. Classes and Objects — Digging a little deeper &mdash; How to Think Like a Computer Scientist: Learning with Python 3</title>
    
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '3rd Edition',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="How to Think Like a Computer Scientist: Learning with Python 3" href="index.html" />
    <link rel="next" title="17. PyGame" href="pygame.html" />
    <link rel="prev" title="15. Classes and Objects — the Basics" href="classes_and_objects_I.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="pygame.html" title="17. PyGame"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="classes_and_objects_I.html" title="15. Classes and Objects — the Basics"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">How to Think Like a Computer Scientist: Learning with Python 3</a> &raquo;</li> 
      </ul>
    </div>

    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="classes-and-objects-digging-a-little-deeper">
<h1>16. Classes and Objects &#8212; Digging a little deeper<a class="headerlink" href="#classes-and-objects-digging-a-little-deeper" title="Permalink to this headline">¶</a></h1>
<div class="section" id="rectangles">
<span id="index-0"></span><h2>16.1. Rectangles<a class="headerlink" href="#rectangles" title="Permalink to this headline">¶</a></h2>
<p>Let&#8217;s say that we want a class to represent a rectangle which is located
somewhere in the XY plane. The question is, what information do we have
to provide in order to specify such a rectangle? To keep things simple,
assume that the rectangle is oriented either vertically or
horizontally, never at an angle.</p>
<p>There are a few possibilities: we could specify the center of the rectangle
(two coordinates) and its size (width and height); or we could specify one of
the corners and the size; or we could specify two opposing corners. A
conventional choice is to specify the upper-left corner of the rectangle, and
the size.</p>
<p>Again, we&#8217;ll define a new class, and provide it with an initializer and
a string converter method:</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Rectangle</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot; A class to manufacture rectangle objects &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">posn</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Initialize rectangle at posn, with width w, height h &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">corner</span> <span class="o">=</span> <span class="n">posn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">w</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">h</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span>  <span class="s">&quot;({0}, {1}, {2})&quot;</span>
                  <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">corner</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>

<span class="n">box</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">bomb</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">80</span><span class="p">),</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>    <span class="c"># In my video game</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&quot;box: &quot;</span><span class="p">,</span> <span class="n">box</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&quot;bomb: &quot;</span><span class="p">,</span> <span class="n">bomb</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>To specify the upper-left corner, we have embedded a <tt class="docutils literal"><span class="pre">Point</span></tt> object (as we used
it in the previous chapter) within our new <tt class="docutils literal"><span class="pre">Rectangle</span></tt> object!
We create two new <tt class="docutils literal"><span class="pre">Rectangle</span></tt> objects, and then print them producing:</p>
<blockquote>
<div><div class="highlight-python3"><div class="highlight"><pre><span class="n">box</span><span class="p">:</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">bomb</span><span class="p">:</span> <span class="p">((</span><span class="mi">100</span><span class="p">,</span> <span class="mi">80</span><span class="p">),</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>The dot operator composes. The expression <tt class="docutils literal"><span class="pre">box.corner.x</span></tt> means, &#8220;Go to the
object that <tt class="docutils literal"><span class="pre">box</span></tt> refers to and select its attribute named <tt class="docutils literal"><span class="pre">corner</span></tt>, then go to
that object and select its attribute named <tt class="docutils literal"><span class="pre">x</span></tt>&#8221;.</p>
<p>The figure shows the state of this object:</p>
<blockquote>
<div><img alt="_images/rectangle.png" src="_images/rectangle.png" />
</div></blockquote>
</div>
<div class="section" id="objects-are-mutable">
<h2>16.2. Objects are mutable<a class="headerlink" href="#objects-are-mutable" title="Permalink to this headline">¶</a></h2>
<p>We can change the state of an object by making an assignment to one of
its attributes. For example, to grow the size of a rectangle without
changing its position, we could modify the values of <tt class="docutils literal"><span class="pre">width</span></tt> and
<tt class="docutils literal"><span class="pre">height</span></tt>:</p>
<blockquote>
<div><div class="highlight-python3"><div class="highlight"><pre><span class="n">box</span><span class="o">.</span><span class="n">width</span> <span class="o">+=</span> <span class="mi">50</span>
<span class="n">box</span><span class="o">.</span><span class="n">height</span> <span class="o">+=</span> <span class="mi">100</span>
</pre></div>
</div>
</div></blockquote>
<p>Of course, we&#8217;d probably like to provide a method to encapsulate this
inside the class.  We will also provide another method to move the
position of the rectangle elsewhere:</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Rectangle</span><span class="p">:</span>
    <span class="c"># ...</span>

    <span class="k">def</span> <span class="nf">grow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delta_width</span><span class="p">,</span> <span class="n">delta_height</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Grow (or shrink) this object by the deltas &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">+=</span> <span class="n">delta_width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">+=</span> <span class="n">delta_height</span>

    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Move this object by the deltas &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">corner</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="n">dx</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">corner</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="n">dy</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>Let us try this:</p>
<blockquote>
<div><div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">((10, 5), 100, 50)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">grow</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">((10, 5), 125, 40)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">print(r)</span>
<span class="go">((0, 15), 125, 40)</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="sameness">
<span id="index-1"></span><h2>16.3. Sameness<a class="headerlink" href="#sameness" title="Permalink to this headline">¶</a></h2>
<p>The meaning of the word &#8220;same&#8221; seems perfectly clear until we give it some
thought, and then we realize there is more to it than we initially expected.</p>
<p>For example, if we say, &#8220;Alice and Bob have the same car&#8221;, we mean that her car
and his are the same make and model, but that they are two different cars. If
we say, &#8220;Alice and Bob have the same mother&#8221;, we mean that her mother and his
are the same person.</p>
<p>When we talk about objects, there is a similar ambiguity. For example, if two
<tt class="docutils literal"><span class="pre">Point</span></tt>s are the same, does that mean they contain the same data
(coordinates) or that they are actually the same object?</p>
<p>We&#8217;ve already seen the <tt class="docutils literal"><span class="pre">is</span></tt> operator in the chapter on lists, where we
talked about aliases:
it allows us to find out if two references refer to the same object:</p>
<blockquote>
<div><div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="ow">is</span> <span class="n">p2</span>
<span class="go">False</span>
</pre></div>
</div>
</div></blockquote>
<p>Even though <tt class="docutils literal"><span class="pre">p1</span></tt> and <tt class="docutils literal"><span class="pre">p2</span></tt> contain the same coordinates, they are not the
same object. If we assign <tt class="docutils literal"><span class="pre">p1</span></tt> to <tt class="docutils literal"><span class="pre">p3</span></tt>, then the two variables are aliases
of the same object:</p>
<blockquote>
<div><div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">p3</span> <span class="o">=</span> <span class="n">p1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="ow">is</span> <span class="n">p3</span>
<span class="go">True</span>
</pre></div>
</div>
</div></blockquote>
<p>This type of equality is called <strong>shallow equality</strong> because it
compares only the references, not the contents of the objects.</p>
<p>To compare the contents of the objects &#8212; <strong>deep equality</strong> &#8212;
we can write a function called <tt class="docutils literal"><span class="pre">same_coordinates</span></tt>:</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">same_coordinates</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">x</span> <span class="o">==</span> <span class="n">p2</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">y</span> <span class="o">==</span> <span class="n">p2</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>Now if we create two different objects that contain the same data, we can use
<tt class="docutils literal"><span class="pre">same_point</span></tt> to find out if they represent points with the same coordinates.</p>
<blockquote>
<div><div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">same_coordinates</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</div></blockquote>
<p>Of course, if the two variables refer to the same object, they have both
shallow and deep equality.</p>
<div class="admonition-beware-of admonition">
<p class="first admonition-title">Beware of  ==</p>
<p>&#8220;When I use a word,&#8221; Humpty Dumpty said, in a rather scornful tone, &#8220;it means just what I choose it to mean &#8212; neither more nor less.&#8221;   <em>Alice in Wonderland</em></p>
<p>Python has a powerful feature that allows a designer of a class to decide what an operation
like <tt class="docutils literal"><span class="pre">==</span></tt> or <tt class="docutils literal"><span class="pre">&lt;</span></tt> should mean.  (We&#8217;ve just shown how we can control how our own objects
are converted to strings, so we&#8217;ve already made a start!)  We&#8217;ll cover more detail later.
But sometimes the implementors will attach shallow equality semantics, and
sometimes deep equality, as shown in this little experiment:</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&quot;== on Points returns&quot;</span><span class="p">,</span> <span class="n">p</span> <span class="o">==</span> <span class="n">s</span><span class="p">)</span>
<span class="c"># By default, == on Point objects does a shallow equality test</span>

<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&quot;== on lists returns&quot;</span><span class="p">,</span>  <span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span>
<span class="c"># But by default, == does a deep equality test on lists</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>This outputs:</p>
<blockquote>
<div><div class="highlight-python3"><div class="highlight"><pre><span class="o">==</span> <span class="n">on</span> <span class="n">Points</span> <span class="n">returns</span> <span class="k">False</span>
<span class="o">==</span> <span class="n">on</span> <span class="n">lists</span> <span class="n">returns</span> <span class="k">True</span>
</pre></div>
</div>
</div></blockquote>
<p class="last">So we conclude that even though the two lists (or tuples, etc.) are distinct objects
with different memory addresses, for lists the <tt class="docutils literal"><span class="pre">==</span></tt> operator tests for deep equality,
while in the case of points it makes a shallow test.</p>
</div>
</div>
<div class="section" id="copying">
<span id="index-2"></span><h2>16.4. Copying<a class="headerlink" href="#copying" title="Permalink to this headline">¶</a></h2>
<p>Aliasing can make a program difficult to read because changes made in
one place might have unexpected effects in another place. It is hard
to keep track of all the variables that might refer to a given object.</p>
<p>Copying an object is often an alternative to aliasing. The <tt class="docutils literal"><span class="pre">copy</span></tt>
module contains a function called <tt class="docutils literal"><span class="pre">copy</span></tt> that can duplicate any
object:</p>
<blockquote>
<div><div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">copy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="ow">is</span> <span class="n">p2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">same_coordinates</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</div></blockquote>
<p>Once we import the <tt class="docutils literal"><span class="pre">copy</span></tt> module, we can use the <tt class="docutils literal"><span class="pre">copy</span></tt> function to make
a new <tt class="docutils literal"><span class="pre">Point</span></tt>. <tt class="docutils literal"><span class="pre">p1</span></tt> and <tt class="docutils literal"><span class="pre">p2</span></tt> are not the same point, but they contain
the same data.</p>
<p>To copy a simple object like a <tt class="docutils literal"><span class="pre">Point</span></tt>, which doesn&#8217;t contain any
embedded objects, <tt class="docutils literal"><span class="pre">copy</span></tt> is sufficient. This is called <strong>shallow
copying</strong>.</p>
<p>For something like a <tt class="docutils literal"><span class="pre">Rectangle</span></tt>, which contains a reference to a
<tt class="docutils literal"><span class="pre">Point</span></tt>, <tt class="docutils literal"><span class="pre">copy</span></tt> doesn&#8217;t do quite the right thing. It copies the
reference to the <tt class="docutils literal"><span class="pre">Point</span></tt> object, so both the old <tt class="docutils literal"><span class="pre">Rectangle</span></tt> and the
new one refer to a single <tt class="docutils literal"><span class="pre">Point</span></tt>.</p>
<p>If we create a box, <tt class="docutils literal"><span class="pre">b1</span></tt>, in the usual way and then make a copy, <tt class="docutils literal"><span class="pre">b2</span></tt>,
using <tt class="docutils literal"><span class="pre">copy</span></tt>, the resulting state diagram looks like this:</p>
<blockquote>
<div><img alt="_images/rectangle2.png" src="_images/rectangle2.png" />
</div></blockquote>
<p>This is almost certainly not what we want. In this case, invoking
<tt class="docutils literal"><span class="pre">grow</span></tt> on one of the <tt class="docutils literal"><span class="pre">Rectangle</span></tt> objects would not affect the other, but
invoking <tt class="docutils literal"><span class="pre">move</span></tt> on either would affect both! This behavior is
confusing and error-prone. The shallow copy has created an alias to the
<tt class="docutils literal"><span class="pre">Point</span></tt> that represents the corner.</p>
<p>Fortunately, the <tt class="docutils literal"><span class="pre">copy</span></tt> module contains a function named <tt class="docutils literal"><span class="pre">deepcopy</span></tt> that
copies not only the object but also any embedded objects. It won&#8217;t be
surprising to learn that this operation is called a <strong>deep copy</strong>.</p>
<blockquote>
<div><div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">b2</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">b1</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>Now <tt class="docutils literal"><span class="pre">b1</span></tt> and <tt class="docutils literal"><span class="pre">b2</span></tt> are completely separate objects.</p>
</div>
<div class="section" id="glossary">
<h2>16.5. Glossary<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h2>
<dl class="glossary docutils">
<dt id="term-deep-copy">deep copy</dt>
<dd>To copy the contents of an object as well as any embedded objects, and
any objects embedded in them, and so on; implemented by the
<tt class="docutils literal"><span class="pre">deepcopy</span></tt> function in the <tt class="docutils literal"><span class="pre">copy</span></tt> module.</dd>
<dt id="term-deep-equality">deep equality</dt>
<dd>Equality of values, or two references that point to objects that have
the same value.</dd>
<dt id="term-shallow-copy">shallow copy</dt>
<dd>To copy the contents of an object, including any references to embedded
objects; implemented by the <tt class="docutils literal"><span class="pre">copy</span></tt> function in the <tt class="docutils literal"><span class="pre">copy</span></tt> module.</dd>
<dt id="term-shallow-equality">shallow equality</dt>
<dd>Equality of references, or two references that point to the same object.</dd>
</dl>
</div>
<div class="section" id="exercises">
<h2>16.6. Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Add a method <tt class="docutils literal"><span class="pre">area</span></tt> to the <tt class="docutils literal"><span class="pre">Rectangle</span></tt> class that returns the area of any instance:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">r</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">area</span><span class="p">(),</span> <span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Write a <tt class="docutils literal"><span class="pre">perimeter</span></tt> method in the <tt class="docutils literal"><span class="pre">Rectangle</span></tt> class so that we can find
the perimeter of any rectangle instance:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">r</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">perimeter</span><span class="p">(),</span> <span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Write a <tt class="docutils literal"><span class="pre">flip</span></tt> method in the <tt class="docutils literal"><span class="pre">Rectangle</span></tt> class that swaps the width
and the height of any rectangle instance:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">r</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">r</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
<span class="n">test</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Write a new method in the <tt class="docutils literal"><span class="pre">Rectangle</span></tt> class to test if a <tt class="docutils literal"><span class="pre">Point</span></tt> falls within
the rectangle.  For this exercise, assume that a rectangle at (0,0) with
width 10 and height 5 has <em>open</em> upper bounds on the width and height,
i.e. it stretches in the x direction from [0 to 10), where 0 is included
but 10 is excluded, and from [0 to 5) in the y direction.  So
it does not contain the point (10, 2).  These tests should pass:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">r</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)),</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">)),</span> <span class="bp">False</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)),</span> <span class="bp">False</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mf">4.99999</span><span class="p">)),</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">)),</span> <span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">In games, we often put a rectangular &#8220;bounding box&#8221; around our sprites.
(A sprite is an object that can move about in the game, as we will see
shortly.)  We can then do <em>collision detection</em> between, say,
bombs and spaceships, by comparing whether their rectangles overlap anywhere.</p>
<p>Write a function to determine whether two rectangles collide. <em>Hint:
this might be quite a tough exercise!  Think carefully about all the
cases before you code.</em></p>
</li>
</ol>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="pygame.html" title="17. PyGame"
             >next</a> |</li>
        <li class="right" >
          <a href="classes_and_objects_I.html" title="15. Classes and Objects — the Basics"
             >previous</a> |</li>
        <li><a href="index.html">How to Think Like a Computer Scientist: Learning with Python 3</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Peter Wentworth, Jeffrey Elkner, Allen B. Downey and Chris Meyers.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>